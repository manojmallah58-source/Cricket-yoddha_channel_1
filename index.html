<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Live TV</title>

<style>
body{margin:0;background:#020202;font-family:sans-serif;color:#fff}

/* Popup */

.popup{
 position:fixed;top:0;left:0;width:100%;height:100%;
 background:rgba(0,0,0,0.9);display:flex;align-items:center;
 justify-content:center;z-index:1000;
}
.popup-box{
 background:#0d0f18;padding:25px;width:330px;border-radius:15px;
 text-align:center;box-shadow:0 0 20px rgba(0,255,255,.2);
 position:relative;
}
.popup-box h2{
 font-size:28px;background:linear-gradient(90deg,#3af,#a0f);
 -webkit-background-clip:text;color:transparent;margin:0 0 8px;
}
.popup-box p{color:#aaa;font-size:15px;margin-bottom:20px}
.btn{width:100%;padding:13px;border-radius:10px;border:none;
font-size:18px;cursor:pointer;margin-bottom:10px}
.join-btn{background:linear-gradient(90deg,#3af,#a0f);color:#fff}
.already-btn{background:#151515;color:#fff;border:1px solid #333}
.close{position:absolute;top:10px;right:15px;color:#0ff;
font-size:26px;cursor:pointer;font-weight:bold}

/* Player */
.container{padding:10px;max-width:900px;margin:auto}
.video-wrap{position:relative;background:#000;border-radius:15px;overflow:hidden}
video{width:100%;border-radius:15px}
.controls{
position:absolute;bottom:8px;left:0;right:0;padding:8px;
display:flex;align-items:center;justify-content:space-between;
background:rgba(0,0,0,0.4);border-radius:10px
}
button, select, input[type=range]{cursor:pointer}
input[type=range]{width:70px}
.quality-box{
position:absolute;bottom:55px;right:10px;background:#111;
border-radius:7px;padding:6px;display:none
}
.quality-box div{padding:6px;font-size:14px}
.quality-box div:hover{background:#222}
</style>
</head>

<body>

<!-- POPUP -->
<div id="popup" class="popup">
 <div class="popup-box">
  <span class="close" onclick="playVideo()">‚úï</span>
  <h2>Support Us!</h2>
  <p>Join our Telegram for More links & updates.</p>
  
  <button class="btn join-btn" onclick="joinNow()">Join Now</button>
  <button class="btn already-btn" onclick="playVideo()">Already Joined</button>
 </div>
</div>

<!-- Player -->
<div class="container">
 <div class="video-wrap">
  <video id="video"></video>

  <div class="controls">
   <button onclick="togglePlay()">‚èØÔ∏è</button>
   <input type="range" id="seek" value="0">
   <span id="time">00:00</span>
   <button onclick="toggleMute()">üîä</button>
   <input type="range" id="vol" min="0" max="1" step="0.1" value="1">
   <button onclick="toggleQuality()">‚öôÔ∏è</button>
   <button onclick="fullScreen()">‚õ∂</button>
  </div>

  <div id="qBox" class="quality-box">
   <div onclick="setQ('http://xott.live:8080/live/Ali00300/Ahmad0298/341039.m3u8')">360p</div>
   <div onclick="setQ('http://xott.live:8080/live/Ali00300/Ahmad0298/341039.m3u8')">480p</div>
   <div onclick="setQ('http://xott.live:8080/live/Ali00300/Ahmad0298/341039.m3u8')">720p</div>
   <div onclick="setQ('http://xott.live:8080/live/Ali00300/Ahmad0298/341039.m3u8')">1080p</div>
  </div>

 </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script>
let video = document.getElementById("video");
let popup = document.getElementById("popup");
let hls = new Hls();

function loadStream(u){
 hls.loadSource(u); hls.attachMedia(video);
}
loadStream("http://xott.live:8080/live/Ali00300/Ahmad0298/341039.m3u8"); // Default quality

function joinNow(){
 window.open("https://t.me/+rwZKMV0-L8wyOTll","_blank");
 playVideo();
}
function playVideo(){
 popup.style.display="none";
 video.play();
}

function togglePlay(){ video.paused?video.play():video.pause(); }
function toggleMute(){ video.muted=!video.muted; }
function fullScreen(){ video.requestFullscreen(); }

function toggleQuality(){
 let q = document.getElementById("qBox");
 q.style.display = q.style.display==="block"?"none":"block";
}
function setQ(u){ loadStream(u); toggleQuality(); }

let seek=document.getElementById("seek");
video.addEventListener("timeupdate",()=>{
 seek.max=video.duration; seek.value=video.currentTime;
 document.getElementById("time").innerText =
 ("0"+Math.floor(video.currentTime/60)).slice(-2)+":"+
 ("0"+Math.floor(video.currentTime%60)).slice(-2);
});
seek.oninput=()=> video.currentTime = seek.value;
document.getElementById("vol").oninput=e=> video.volume=e.target.value;
</script>

</body>
</html>
